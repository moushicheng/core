## https://github.com/vuejs/core/issues/6617
方案1： transfrom.context处理静态提升的children，删去disabled:false这种元素
方案2： 渲染器修改静态节点渲染
方案3： 使具有boolean的attr去除hoist（不能再被静态提升）
### 缺陷
方案1：可能会有性能问题。因为正则查找可能所有boolean attr可能会比较耗时
方案2：运行时修改方案，不符合设计逻辑（静态提升发生在编译期
方案3：把本能提升的hoist，直接去除，过于粗暴，也不太好

综合方案1和方案3
决定在transform的 traverseNode阶段，将 带有boolean attr，且hoist==false的节点的boolean attr剔除，这样既不影响提升，又不会照成太大的性能问题。


1.问题背景：
是这样的，在html中，部分元素上可以写布尔属性，比如button，可以写disabled 如下:<button disabled>，这个disabled本身不用写value值,在dom中直接就能表示禁用，然鹅，vue提供了更灵活的写法，你可以在disabled上用v-bind绑定布尔值，最终呈现在页面上button在true的情况下回保留disabled，flase的情况下会移除，当时就发现，在某些情况下vue不能正确的移除布尔属性，产生了这个bug。
2.问题产生：
vue是有编译期的，编译期的产物是render函数，当时有个编译期优化叫做静态化提升，可以提取出render返回的一部分vnode成字符串，然后在浏览器前端运行的时候直接innerhtml这个字符串就好了，但问题是vue没有对这个字符串做过多的处理，导致布尔属性没有正确的移除
3.问题解决：
我当时给了几个方案
 1.在运行时做检测移除
 2.在编译期做移除
 但是运行时检测的会违背这个静态化提升的设计意图，遂放弃。我选择在编译期做移除，当时发现vue会分析模板的ast，然后在ast上做优化，优化阶段会涉及这个静态化提升的过程，我就在这里检测ast上的属性值，然后做了过滤移除。
 最终解决了这个bug